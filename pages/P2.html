<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ingresar Nombre</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Fuente personalizada -->
  <link rel="stylesheet" href="../css/font.css">
  <link rel="stylesheet" href="../css/style_P2.css">
</head>
<body>

  <!-- mensaje nombre -->
  <div id="mensaje-nombre" style="display:none;">
  <div class="mensaje-box" id="mensaje-box"></div>
</div>


  <div class="contenedor">
    <div class="barra-roja">PON TU NOMBRE</div>

    <div class="letras" id="letras">
      <!-- 4 letras con flechas -->
      <div class="letra-box">
        <button class="flecha" onclick="cambiarLetra(0,1)">▲</button>
        <div class="letra" id="letra0">A</div>
        <button class="flecha" onclick="cambiarLetra(0,-1)">▼</button>
      </div>

      <div class="letra-box">
        <button class="flecha" onclick="cambiarLetra(1,1)">▲</button>
        <div class="letra" id="letra1">A</div>
        <button class="flecha" onclick="cambiarLetra(1,-1)">▼</button>
      </div>

      <div class="letra-box">
        <button class="flecha" onclick="cambiarLetra(2,1)">▲</button>
        <div class="letra" id="letra2">A</div>
        <button class="flecha" onclick="cambiarLetra(2,-1)">▼</button>
      </div>

      <div class="letra-box">
        <button class="flecha" onclick="cambiarLetra(3,1)">▲</button>
        <div class="letra" id="letra3">A</div>
        <button class="flecha" onclick="cambiarLetra(3,-1)">▼</button>
      </div>
    </div>

    <button id="confirmar" onclick="confirmarNombre()">Confirmar</button>
  </div>

  <script>
  const abecedario = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
  let posiciones = [0,0,0,0];

  function cambiarLetra(indice, direccion) {
    posiciones[indice] += direccion;
    if (posiciones[indice] < 0) posiciones[indice] = abecedario.length - 1;
    if (posiciones[indice] >= abecedario.length) posiciones[indice] = 0;
    document.getElementById("letra"+indice).textContent = abecedario[posiciones[indice]];
  }

  function confirmarNombre() {
  let nombre = posiciones.map(i => abecedario[i]).join("");
  const mensaje = document.getElementById("mensaje-nombre");
  const caja = document.getElementById("mensaje-box");
  const textoCompleto = "Bienvenido al juego " + nombre + "  ^ ^ /";

  mensaje.style.display = "flex";
  caja.textContent = "";
  mensaje.classList.add("mostrar");

  let i = 0;
  const escribir = setInterval(() => {
    caja.textContent += textoCompleto[i];
    i++;
    if (i >= textoCompleto.length) {
      clearInterval(escribir);

      // Espera 1s y luego inicia transición a negro
      setTimeout(() => {
        document.body.classList.add("transicion"); // fade-out

        // después de 0.5s (cuando ya está negro), redirigir
        setTimeout(() => {
          window.location.href = "P3.html";
        }, 500);

      }, 1000); // espera breve tras terminar el mensaje
    }
  }, 50); // tiempo por letra
}

  window.onload = () => {
    setTimeout(() => {
      document.body.classList.add("visible");
    }, 200);
  };

</script>

</body>
</html>
